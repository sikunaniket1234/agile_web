{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>AGILE-WEB | Scale Your Vision Globally</title>
    <meta name="description" content="End-to-End Digital Ecosystems. We provide custom software, viral marketing strategies, and cloud infrastructure for growing businesses.">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>

    {% include 'main/navbar.html' %}

    <section id="home" class="hero-carousel-wrap">
        <div class="carousel carousel-slider center" id="hero-carousel">
            {% for slide in hero_slides %}
            <div class="carousel-item" href="#{{ forloop.counter }}">
                <div class="hero-modern">
                    <div class="glow-sphere"></div>
                    <div class="container center-align">
                        <div class="badge-pill" data-aos="fade-down">{{ slide.badge_text }}</div>
                        <h1 class="outfit-bold" data-aos="fade-up">
                            {{ slide.heading_line_1 }} <br>
                            <span class="text-gradient">{{ slide.heading_gradient_text }}</span>
                        </h1>
                        <p class="hero-subtext">{{ slide.subtext }}</p>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="carousel-item">
                <div class="hero-modern">
                    <div class="container center-align">
                        <h1>Welcome to <span class="text-gradient">Agile Web</span></h1>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="carousel-controls">
        <button class="nav-btn" onclick="moveHero('prev')">
            <i class="material-icons">chevron_left</i>
        </button>
        
        <div class="carousel-dots" id="hero-dots"></div>
        
        <button class="nav-btn" onclick="moveHero('next')">
            <i class="material-icons">chevron_right</i>
        </button>
    </div>
    </section>

    <section id="services" class="section">
        <div class="container">
            <h2 class="center-align outfit-bold">Comprehensive Services</h2>
            <div class="row">
                {% for service in services %}
                <div class="col s12 m4" data-aos="fade-up">
                    <a href="{% url 'service_detail' service.slug %}">
                        <div class="card glass-card hover-lift">
                            <div class="card-content">
                                <i class="material-icons medium accent-text">{{ service.icon_name }}</i>
                                <h5 class="outfit-bold">{{ service.title }}</h5>
                                <p class="grey-text">{{ service.short_description|truncatewords:12 }}</p>
                                <div style="margin-top: 15px; font-weight: 600; color: var(--accent);">
                                    Learn More <i class="material-icons tiny">arrow_forward</i>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                {% empty %}
                <p class="center-align">No services listed yet.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="clients" class="section">
        <div class="container center-align">
            <h5 class="text-dim" style="margin-bottom: 30px; letter-spacing: 2px;">TRUSTED BY INNOVATORS</h5>
            <div class="client-grid">
                {% for client in clients %}
                <div class="client-logo" data-aos="fade-in">
                    <img src="{{ client.logo_url }}" alt="{{ client.name }}">
                </div>
                {% empty %}
                <p class="text-dim">Clients joining soon.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="projects" class="section secondary-bg">
        <div class="container">
            <h2 class="center-align outfit-bold">Our Ecosystem</h2>
            
            <h4 class="outfit-bold text-gradient" style="margin-top: 50px;">In-House Ventures</h4>
            <div class="row">
                {% for project in in_house_projects %}
                <div class="col s12 m6 l6" data-aos="fade-up">
                    <div class="card glass-card project-card">
                        <div class="card-image">
                            <img src="{{ project.image_url }}">
                            <span class="card-title outfit-bold">{{ project.title }}</span>
                        </div>
                        <div class="card-content"><p>{{ project.description }}</p></div>
                        <div class="card-action">
                            {% if project.link %}
                            <a href="{{ project.link }}" target="_blank" class="accent-text">View Project <i class="material-icons right tiny">open_in_new</i></a>
                            {% else %}
                            <span class="text-dim">Internal Tool</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col s12"><p class="text-dim">In-house projects loading...</p></div>
                {% endfor %}
            </div>

            <h4 class="outfit-bold text-gradient" style="margin-top: 50px;">Ongoing Development</h4>
            <div class="row">
                {% for project in ongoing_projects %}
                <div class="col s12 m6 l4" data-aos="fade-up">
                    <div class="card glass-card">
                        <div class="card-content">
                            <span class="badge-pill">In Progress</span>
                            <h5 class="outfit-bold">{{ project.title }}</h5>
                            <p class="text-dim">{{ project.description }}</p>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col s12"><p class="text-dim">New projects starting soon.</p></div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="pricing" class="section">
        <div class="container">
            <h2 class="center-align outfit-bold">Transparent Pricing</h2>
            <div class="row">
                {% for plan in pricing_plans %}
                <div class="col s12 m4" data-aos="fade-up">
                    <div class="card glass-card pricing-card {% if plan.is_popular %}featured-border{% endif %}">
                        {% if plan.is_popular %}
                        <div class="badge-pill">Most Popular</div>
                        {% endif %}
                        <div class="card-content center-align">
                            <h5 class="outfit-bold">{{ plan.name }}</h5>
                            <div class="price-tag {% if plan.is_popular %}text-gradient{% endif %}">
                                <span class="currency">$</span>{{ plan.price }}<span class="period">{{ plan.period }}</span>
                            </div>
                            <hr class="glass-divider">
                            <ul class="check-list">
                                {% for feature in plan.get_features_list %}
                                <li><i class="material-icons">check_circle</i> {{ feature }}</li>
                                {% endfor %}
                            </ul>
                            <a href="#contact" class="btn-outline full-width">Select Plan</a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p class="center-align">No pricing plans listed.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="marketing" class="section secondary-bg">
        <div class="container">
            <h2 class="center-align outfit-bold">Dominant Marketing</h2>
            <div class="row">
                {% for feature in marketing_features %}
                <div class="col s12 m4" data-aos="zoom-in">
                    <div class="card marketing-card-new">
                        <div class="card-content center">
                            {% if feature.is_image %}
                            <img src="{{ feature.icon_url }}" height="40">
                            {% else %}
                            <i class="material-icons medium blue-text">{{ feature.icon_url }}</i>
                            {% endif %}
                            <h5>{{ feature.title }}</h5>
                            <p>{{ feature.description }}</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="tech" class="section">
        <div class="container center-align">
            <h2 class="outfit-bold">Our Tech Stack</h2>
            <div class="tech-grid">
                {% for tool in tech_stack %}
                <div class="tech-icon-box">
                    <img src="{{ tool.logo_url }}" alt="{{ tool.name }}">
                    <span>{{ tool.name }}</span>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="blog" class="section secondary-bg">
        <div class="container">
            <h2 class="center-align outfit-bold">Latest Insights</h2>
            <div class="row">
                {% for blog in blogs %}
                <div class="col s12 m4">
                    <a href="{% url 'blog_detail' blog.slug %}">
                        <div class="card blog-card">
                            <div class="card-image"><img src="{{ blog.image_url }}"></div>
                            <div class="card-content">
                                <h6>{{ blog.category }}</h6>
                                <h5 class="truncate">{{ blog.title }}</h5> 
                                <p class="grey-text">{{ blog.excerpt|truncatewords:15 }}</p>
                            </div>
                        </div>
                    </a>
                </div>
                {% empty %}
                <p class="center-align">No blog posts yet.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="contact" class="section">
        <div class="container">
            <div class="card glass-card form-wrap">
                <div class="row">
                    <div class="col s12 l5 contact-details">
                        <h3 class="outfit-bold text-gradient">Get a Quotation</h3>
                        <p>Fill out the form and our strategist will reach out with a custom plan within 24 hours.</p>
                        <ul class="contact-list">
                            <li><i class="material-icons">location_on</i> Detroit, Michigan, USA</li>
                            <li><i class="material-icons">email</i> contact@agile-web-services.com</li>
                        </ul>
                    </div>
                    <div class="col s12 l7">
                        {% if messages %}
                            {% for message in messages %}
                            <div class="card-panel green accent-4 white-text">
                                <i class="material-icons left">check_circle</i>{{ message }}
                            </div>
                            {% endfor %}
                        {% endif %}

                        <form method="POST" action="{% url 'home' %}">
                            {% csrf_token %} 
                            <div class="row">
                                <div class="input-field col s12 m6"><input id="name" name="name" type="text" required><label for="name">Name</label></div>
                                <div class="input-field col s12 m6"><input id="email" name="email" type="email" required><label for="email">Email</label></div>
                                <div class="input-field col s12 m12">
                                    <select id="service-type" name="service-type">
                                        <option value="" disabled selected>Select Service</option>
                                        <option value="web">Web Solution</option>
                                        <option value="app">Mobile App</option>
                                        <option value="smm">SMM & Marketing</option>
                                        <option value="seo">SEO Optimization</option>
                                    </select>
                                    <label>What are you looking for?</label>
                                </div>
                                <div class="input-field col s12 m12"><textarea id="project" name="project" class="materialize-textarea"></textarea><label for="project">Project Requirements</label></div>
                                <div class="col s12"><button type="submit" class="btn-premium">Request Free Quote</button></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="{% static 'js/script.js' %}"> </script>
</body>
</html>